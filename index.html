<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "9d8f1046-5227-4863-a068-11d0a5e57a03",
      // Automatische Anmeldung deaktivieren, um iOS-Fehler zu vermeiden
      autoRegister: false, 
      notifyButton: {
        enable: true, // Zeigt eine kleine Glocke unten rechts
      },
    });

    // Prüfen, ob wir auf iOS im Standalone-Modus sind (als App gespeichert)
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    const isStandalone = window.matchMedia('(display-mode: standalone)').matches;

    if (isIOS && !isStandalone) {
      console.log("Bitte die App zum Homescreen hinzufügen, um Push zu aktivieren.");
    }
  });
</script>
