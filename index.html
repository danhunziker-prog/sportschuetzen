<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "9d8f1046-5227-4863-a068-11d0a5e57a03",
      // WICHTIG: OneSignal erkennt automatisch, dass es Web Push ist.
      // Du musst nur sicherstellen, dass Safari Web Push im Dashboard aktiviert ist.
    });

    // iOS Web Push braucht oft einen "Opt-In" Trigger
    // Wir pr√ºfen, ob der User schon abonniert ist
    if (!OneSignal.User.PushSubscription.id) {
        // Zeigt ein sanftes Slidedown-Fenster, das auf iOS funktioniert
        OneSignal.Slidedown.promptPush();
    }
  });
</script>
